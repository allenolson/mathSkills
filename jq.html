<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'>
	<title>Comparator</title>
	<link rel='stylesheet' type='text/css' href='style.css' />
	<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
</head>
<body>

<div class='canvas group'>
	<div class='score'>Score: <span id='score'></span></div>

	<div id='first' class='value'>0</div>
	<div id='second' class='value'>0</div>
	<div id='instructions'>Click on the value that is larger.</div>
	<div id='score'>Time Left: <span id='timeleft'></span></div>
</div>

<!-- use local jQuery -->
<script src="jquery-2.1.3.min.js"></script>
<script>
	var values = [
			{display: '$$1 \\over 2$$', value: 1/2},
			{display: '$$1 \\over 3$$', value: 1/3},
			{display: '$$1 \\over 4$$', value: 1/4},
			{display: '$$1 \\over 5$$', value: 0.2},
			{display: '$$1 \\over 6$$', value: 0.1625},
			{display: '$$1 \\over 7$$', value: 1/7}
		];

	var startTime = 30;
	var score = 0;
	var timer = startTime;
	var value1 = values[0];
	var value2 = values[1];
	var answer = 2;
	
	var countdown = function() {
		timer--;
		$('#timeleft').html(timer);
		
		if (timer <= 0) {
			window.clearInterval(tick);
			$('#first').off();
			$('#second').off();
			$('#instructions').html('Game Over');
			gameOn = false;
		}
	}
	var tick = window.setInterval(countdown, 1000, startTime);
	
	var reset = function() {
		var index = Math.floor(Math.random() * values.length);
		value1 = values[index];
		do {
			var index = Math.floor(Math.random() * values.length);
			value2 = values[index];
		} while (value2.value === value1.value);
		
		$('#first').html(value1.display);
		MathJax.Hub.Queue(['Typeset', MathJax.Hub, 'first']);
		
		$('#second').html(value2.display);
		MathJax.Hub.Queue(['Typeset', MathJax.Hub, 'second']);
		
		if (value1.value > value2.value) {
			answer = 1;
		} else {
			answer = 2;
		}
		$('#score').html(score);
	}
	
	reset();
	
	firstClick = function() {
		if (answer === 1) {
			score++;
		}
		reset();
	}
	
	secondClick = function() {
		if (answer === 2) {
			score++;
		}
		reset();
	}
	
	$('#first').click(firstClick);
	
	$('#second').click(secondClick);
	
	
</script>
</body>
</html>